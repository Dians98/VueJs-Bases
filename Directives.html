<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Les directives</title>
    <style>
        canvas{
            width: 300px;
            height: 200px;
            border : 1px solid #333;
        }
    </style>
</head>
<body>
    <div id ="my_app" class="container">
        <!--
            Ici on a pas mis de parenthèse après le nom de la fonction

            POURQUOI?
        -->
        <canvas v-on:mousemove="get_mouse_position">

        </canvas>
        <p> {{ offsetX }} / {{ offsetY }} </p>
        <!-- 
            Les event modifiers sont l'equivalent dans Javascript comme stop propagation, etc

            .once pour dire que c'est clickable une seule fois
            .stop pour stop propagation
            .prevent pour eviter qu'un bouton submit recharge la page à chaque fois pour un btn de type submit
        -->
        <button v-on:click.once="clicked">Clique-moi</button>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.7.16/vue.common.dev.min.js"></script>
    <script>

        new Vue({
            el: '#my_app',

            data : 
            {
                offsetX : 0,
                offsetY : 0
            },

            methods : 
            {
                get_mouse_position : function (e)
                {
                    console.log(e);
                    this.offsetX = e.offsetX;
                    this.offsetY = e.offsetY;
                },
                clicked : function(e)
                {
                    console.log("Clicked");
                }
            }
        })

    </script>

</body>
</html>